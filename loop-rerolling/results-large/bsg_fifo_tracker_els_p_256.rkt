#lang rosette
(require "../netlist_ir.rkt")
(require "../sketch_gen.rkt")

(def-netlist basejump-netlists/bsg_fifo_tracker_els_p_256.blif
(hash 0 1 1 1 2 1)
(hash 3 8 4 1 5 1 6 8 7 8)
(hash 8 1 9 1 10 8 11 8)
(12 (w= 10 11))
(13 (w& 12 8))
(14 (w& 12 9))
(15 (w~ 1))
(16 (w|| 2 0))
(17 (w& 16 15))
(18 (wx 17 (bv-const 0 1) (bv-const 1 1)))
(19 (wx 1 18 (bv-const 1 1)))
(20 (wx 17 (bv-const 0 1) 2))
(21 (wx 1 20 (bv-const 0 1)))
(22 (wx 19 9 21))
(23 (wx 17 (bv-const 0 1) 0))
(24 (wx 1 23 (bv-const 1 1)))
(25 (wx 19 8 24))
(26 (w+ 10 (bv-const 1 8)))
(27 (wx 0 10 (ws 26 (arange 0 8))))
(28 (wx 1 27 (bv-const 0 8)))
(29 (w+ 11 (bv-const 1 8)))
(30 (wx 2 11 (ws 29 (arange 0 8))))
(31 (wx 1 30 (bv-const 0 8)))
(8 (<<= 25))
(9 (<<= 22))
(10 (<<= 28))
(11 (<<= 31))
(3 (<<= 27))
(4 (<<= 14))
(5 (<<= 13))
(6 (<<= 10))
(7 (<<= 11)))

(define internal-signals (hash 12 1 13 1 14 1 15 1 16 1 17 1 18 1 19 1 20 1 21 1 22 1 23 1 24 1 25 1 26 9 27 8 28 8 29 9 30 8 31 8))

(sketch-reroll basejump-netlists/bsg_fifo_tracker_els_p_256.blif (loops (19 1 3)))

