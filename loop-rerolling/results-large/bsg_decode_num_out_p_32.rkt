#lang rosette
(require "../netlist_ir.rkt")
(require "../sketch_gen.rkt")

(def-netlist basejump-netlists/bsg_decode_num_out_p_32.blif
(hash 0 5)
(hash 1 32)
(hash)
(2 (ws (bv-const 1 32) (arange 0 31)))
(3 (wc (list 2 (bv-const 0 1))))
(4 (ws (bv-const 1 32) (arange 1 32)))
(5 (wc (list (bv-const 0 1) 4)))
(6 (wx (bv-const 1 1) 5 3))
(7 (wx (ws 0 (list 0)) (bv-const 1 32) 6))
(8 (ws (bv-const 0 2) (arange 0 2)))
(9 (wc (list (ws 7 (arange 0 30)) 8)))
(10 (wc (list 8 (ws 7 (arange 2 32)))))
(11 (wx (bv-const 1 1) 10 9))
(12 (wx (ws 0 (list 1)) 7 11))
(13 (wc (list 8 8)))
(14 (wc (list (ws 12 (arange 0 28)) (ws 13 (arange 0 4)))))
(15 (wc (list (ws 13 (arange 0 4)) (ws 12 (arange 4 32)))))
(16 (wx (bv-const 1 1) 15 14))
(17 (wx (ws 0 (list 2)) 12 16))
(18 (wc (list (ws 13 (arange 0 4)) (ws 13 (arange 0 4)))))
(19 (wc (list (ws 17 (arange 0 24)) (ws 18 (arange 0 8)))))
(20 (wc (list (ws 18 (arange 0 8)) (ws 17 (arange 8 32)))))
(21 (wx (bv-const 1 1) 20 19))
(22 (wx (ws 0 (list 3)) 17 21))
(23 (wc (list (ws 18 (arange 0 8)) (ws 18 (arange 0 8)))))
(24 (wc (list (ws 22 (arange 0 16)) (ws 23 (arange 0 16)))))
(25 (wc (list (ws 23 (arange 0 16)) (ws 22 (arange 16 32)))))
(26 (wx (bv-const 1 1) 25 24))
(27 (wx (ws 0 (list 4)) 22 26))
(1 (<<= 27)))

(define internal-signals (hash 2 31 3 32 4 31 5 32 6 32 7 32 8 2 9 32 10 32 11 32 12 32 13 4 14 32 15 32 16 32 17 32 18 8 19 32 20 32 21 32 22 32 23 16 24 32 25 32 26 32 27 32))

(sketch-reroll basejump-netlists/bsg_decode_num_out_p_32.blif (loops (18 1 3) (23 1 3)))

