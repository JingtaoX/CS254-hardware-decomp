#lang rosette
(require "../netlist_ir.rkt")
(require "../sketch_gen.rkt")

(def-netlist basejump-netlists/bsg_decode_num_out_p_16.blif
(hash 0 4)
(hash 1 16)
(hash)
(2 (ws (bv-const 1 16) (arange 0 15)))
(3 (wc (list 2 (bv-const 0 1))))
(4 (ws (bv-const 1 16) (arange 1 16)))
(5 (wc (list (bv-const 0 1) 4)))
(6 (wx (bv-const 1 1) 5 3))
(7 (ws 0 (list 0)))
(8 (wx 7 (bv-const 1 16) 6))
(9 (ws (bv-const 0 2) (arange 0 2)))
(10 (ws 8 (arange 0 14)))
(11 (wc (list 10 9)))
(12 (ws 8 (arange 2 16)))
(13 (wc (list 9 12)))
(14 (wx (bv-const 1 1) 13 11))
(15 (ws 0 (list 1)))
(16 (wx 15 8 14))
(17 (wc (list 9 9)))
(18 (ws 17 (arange 0 4)))
(19 (ws 16 (arange 0 12)))
(20 (wc (list 19 18)))
(21 (ws 16 (arange 4 16)))
(22 (wc (list 18 21)))
(23 (wx (bv-const 1 1) 22 20))
(24 (ws 0 (list 2)))
(25 (wx 24 16 23))
(26 (wc (list 18 18)))
(27 (ws 26 (arange 0 8)))
(28 (ws 25 (arange 0 8)))
(29 (wc (list 28 27)))
(30 (ws 25 (arange 8 16)))
(31 (wc (list 27 30)))
(32 (wx (bv-const 1 1) 31 29))
(33 (ws 0 (list 3)))
(34 (wx 33 25 32))
(1 (<<= 34)))

(define internal-signals (hash 2 15 3 16 4 15 5 16 6 16 7 1 8 16 9 2 10 14 11 16 12 14 13 16 14 16 15 1 16 16 17 4 18 4 19 12 20 16 21 12 22 16 23 16 24 1 25 16 26 8 27 8 28 8 29 16 30 8 31 16 32 16 33 1 34 16))

(sketch-reroll basejump-netlists/bsg_decode_num_out_p_16.blif (loops ))

