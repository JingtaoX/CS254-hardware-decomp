#lang rosette
(require "../netlist_ir.rkt")
(require "../sketch_gen.rkt")

(def-netlist basejump-netlists/bsg_decode_with_v_num_out_p_32.blif
(hash 0 5 1 1)
(hash 2 32)
(hash)
(3 (ws (bv-const 1 32) (arange 0 31)))
(4 (wc (list 3 (bv-const 0 1))))
(5 (ws (bv-const 1 32) (arange 1 32)))
(6 (wc (list (bv-const 0 1) 5)))
(7 (wx (bv-const 1 1) 6 4))
(8 (wx (ws 0 (list 0)) (bv-const 1 32) 7))
(9 (ws (bv-const 0 2) (arange 0 2)))
(10 (wc (list (ws 8 (arange 0 30)) 9)))
(11 (wc (list 9 (ws 8 (arange 2 32)))))
(12 (wx (bv-const 1 1) 11 10))
(13 (wx (ws 0 (list 1)) 8 12))
(14 (wc (list 9 9)))
(15 (wc (list (ws 13 (arange 0 28)) (ws 14 (arange 0 4)))))
(16 (wc (list (ws 14 (arange 0 4)) (ws 13 (arange 4 32)))))
(17 (wx (bv-const 1 1) 16 15))
(18 (wx (ws 0 (list 2)) 13 17))
(19 (wc (list (ws 14 (arange 0 4)) (ws 14 (arange 0 4)))))
(20 (wc (list (ws 18 (arange 0 24)) (ws 19 (arange 0 8)))))
(21 (wc (list (ws 19 (arange 0 8)) (ws 18 (arange 8 32)))))
(22 (wx (bv-const 1 1) 21 20))
(23 (wx (ws 0 (list 3)) 18 22))
(24 (wc (list (ws 19 (arange 0 8)) (ws 19 (arange 0 8)))))
(25 (wc (list (ws 23 (arange 0 16)) (ws 24 (arange 0 16)))))
(26 (wc (list (ws 24 (arange 0 16)) (ws 23 (arange 16 32)))))
(27 (wx (bv-const 1 1) 26 25))
(28 (wx (ws 0 (list 4)) 23 27))
(29 (w& 1 (ws 28 (list 0))))
(30 (w& 1 (ws 28 (list 1))))
(31 (w& 1 (ws 28 (list 2))))
(32 (w& 1 (ws 28 (list 3))))
(33 (w& 1 (ws 28 (list 4))))
(34 (w& 1 (ws 28 (list 5))))
(35 (w& 1 (ws 28 (list 6))))
(36 (w& 1 (ws 28 (list 7))))
(37 (w& 1 (ws 28 (list 8))))
(38 (w& 1 (ws 28 (list 9))))
(39 (w& 1 (ws 28 (list 10))))
(40 (w& 1 (ws 28 (list 11))))
(41 (w& 1 (ws 28 (list 12))))
(42 (w& 1 (ws 28 (list 13))))
(43 (w& 1 (ws 28 (list 14))))
(44 (w& 1 (ws 28 (list 15))))
(45 (w& 1 (ws 28 (list 16))))
(46 (w& 1 (ws 28 (list 17))))
(47 (w& 1 (ws 28 (list 18))))
(48 (w& 1 (ws 28 (list 19))))
(49 (w& 1 (ws 28 (list 20))))
(50 (w& 1 (ws 28 (list 21))))
(51 (w& 1 (ws 28 (list 22))))
(52 (w& 1 (ws 28 (list 23))))
(53 (w& 1 (ws 28 (list 24))))
(54 (w& 1 (ws 28 (list 25))))
(55 (w& 1 (ws 28 (list 26))))
(56 (w& 1 (ws 28 (list 27))))
(57 (w& 1 (ws 28 (list 28))))
(58 (w& 1 (ws 28 (list 29))))
(59 (w& 1 (ws 28 (list 30))))
(60 (w& 1 (ws 28 (list 31))))
(61 (wc (list 60 59 58 57 56 55 54 53 52 51 50 49 48 47 46 45 44 43 42 41 40 39 38 37 36 35 34 33 32 31 30 29)))
(2 (<<= 61)))

(define internal-signals (hash 3 31 4 32 5 31 6 32 7 32 8 32 9 2 10 32 11 32 12 32 13 32 14 4 15 32 16 32 17 32 18 32 19 8 20 32 21 32 22 32 23 32 24 16 25 32 26 32 27 32 28 32 29 1 30 1 31 1 32 1 33 1 34 1 35 1 36 1 37 1 38 1 39 1 40 1 41 1 42 1 43 1 44 1 45 1 46 1 47 1 48 1 49 1 50 1 51 1 52 1 53 1 54 1 55 1 56 1 57 1 58 1 59 1 60 1 61 32))

(sketch-reroll basejump-netlists/bsg_decode_with_v_num_out_p_32.blif (loops (19 1 3) (24 1 3) (29 1 32)))

